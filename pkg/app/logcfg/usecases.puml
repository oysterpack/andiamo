@startuml
actor :App : as APP


usecase APP_LOGGING as "zerolog is used for logging"
usecase ZEROLOG_CONFIG << envconfig >> as "
zerolog config is loaded
from env vars"

note bottom of ZEROLOG_CONFIG {
APPX12_LOG_GLOBAL_LEVEL
APPX12_LOG_DISABLE_SAMPLING
}

usecase LOG_APP_DESC as "
Base logger injects
standard fields into
each event"

note bottom of LOG_APP_DESC {
- app.Desc
- app.InstanceID
}

usecase LOG_TIMESTAMP as "
Log event timestamps are
logged in UNIX time"

usecase LOG_DURATION as "
Log event time.Duration fields
are logged in millisecs"

usecase LOG_ERROR_STACK_MARSHALLER as "
Error stack marshalling
is supported"

usecase GO_LOGGING as "
zerolog is used as go
standard logger output"


APP_LOGGING .up.> GO_LOGGING
APP_LOGGING .up.> ZEROLOG_CONFIG
APP_LOGGING ..> LOG_APP_DESC
APP_LOGGING ...> LOG_TIMESTAMP
APP_LOGGING ...> LOG_DURATION
APP_LOGGING ... LOG_ERROR_STACK_MARSHALLER

APP --> APP_LOGGING

@enduml